:js


module Mod with
  fun printt(x) = console.log(x)
  fun (|>>) pipee(x, f) = f(x)

:ctx
open Mod
//│ Env:
//│   pipee -> SelElem(RefElem(member:Mod),pipee,Some(member:pipee),true)
//│   printt -> SelElem(RefElem(member:Mod),printt,Some(member:printt),true)
//│   |>> -> SelElem(RefElem(member:Mod),pipee,Some(member:pipee),true)

pipee
//│ = [function pipee]

(|>>)
//│ = [function pipee]

|>>
//│ = [function pipee]

:pe
:e
Mod.|>>
//│ ╔══[PARSE ERROR] Expected start of expression in this position; found end of input instead
//│ ║  l.26: 	Mod.|>>
//│ ╙──      	       ^
//│ ╔══[ERROR] Name not found: .|>>
//│ ║  l.26: 	Mod.|>>
//│ ╙──      	   ^^^^
//│ ╔══[ERROR] Unexpected moduleful reference.
//│ ║  l.26: 	Mod.|>>
//│ ╙──      	^^^


1 |>> x => printt(x)
//│ > 1


:pe
:e
open Mod { |>> }
//│ ╔══[PARSE ERROR] Expected start of expression in this position; found end of input instead
//│ ║  l.44: 	open Mod { |>> }
//│ ╙──      	                ^
//│ ╔══[ERROR] Illegal 'open' statement shape.
//│ ║  l.44: 	open Mod { |>> }
//│ ╙──      	     ^^^^^^^^^^^


:e
open Mod { (|>>) }
//│ ╔══[ERROR] Illegal 'open' statement element.
//│ ║  l.54: 	open Mod { (|>>) }
//│ ╙──      	           ^^^^^

12 |>> print
//│ > 12


open Mod { printt, |>> }

:fixme
12 |>> printt
//│ ╔══[ERROR] Module 'Mod' does not contain member '|>>'
//│ ║  l.66: 	12 |>> printt
//│ ╙──      	   ^^^
//│ ═══[RUNTIME ERROR] TypeError: Mod1.|>> is not a function


