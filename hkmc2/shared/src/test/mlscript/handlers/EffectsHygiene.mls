:js
:effectHandlers


// * Notice that the two module definitions are lifted to the top of the block.
:sjs
fun foo(h) =
  if false then
    module A
    A
  else
    module A
    A
//│ JS (unsanitized):
//│ let foo;
//│ foo = function foo(h) {
//│   let A2, A3, scrut;
//│   (class A {
//│     static {
//│       A2 = A;
//│     }
//│     static toString() { return "A"; }
//│   });
//│   (class A1 {
//│     static {
//│       A3 = A1;
//│     }
//│     static toString() { return "A"; }
//│   });
//│   scrut = false;
//│   if (scrut === true) {
//│     return A2
//│   } else {
//│     return A3
//│   }
//│ };


