:js


tuple(
  )
//â”‚ = []

tuple(
  )
  tuple()
//â”‚ = [[]]

tuple(
  ) tuple()
//â”‚ = [[]]

tuple(
  id(2
    +2))
            tuple()
//â”‚ = [[4]]

tuple(
  id(2
    +2))
    tuple()
//â”‚ = [[4]]

tuple(
  id(2
    +2))
tuple()
//â”‚ = []

tuple(
  id(2
    +2))
    tuple()
  tuple()
//â”‚ = [[[4]]]

// ðŸ¤”
:e
tuple(
  id(2
    +2))
      tuple()
    tuple()
  tuple()
//â”‚ â•”â•â•[ERROR] Illegal juxtaposition right-hand side (juxtaposition).
//â”‚ â•‘  l.47: 	      tuple()
//â”‚ â•‘        	      ^^^^^^^
//â”‚ â•‘  l.48: 	    tuple()
//â”‚ â•‘        	^^^^^^^^^^^
//â”‚ â•‘  l.49: 	  tuple()
//â”‚ â•™â”€â”€      	^^
//â”‚ = [[4]]

module A with {
}

:p
tuple(
)
//â”‚ |tuple|(|â†µ|)|
//â”‚ Parsed:
//â”‚ 	App(Ident(tuple),Tup(List()))
//â”‚ = []

:w
tuple(
1
)
//â”‚ â•”â•â•[WARNING] This literal should be indented
//â”‚ â•‘  l.72: 	1
//â”‚ â•‘        	^
//â”‚ â•Ÿâ”€â”€ since it is a continuation of the new line here
//â”‚ â•‘  l.71: 	tuple(
//â”‚ â•‘        	      ^
//â”‚ â•‘  l.72: 	1
//â”‚ â•™â”€â”€      	
//â”‚ = [1]

tuple(
  )
//â”‚ = []

print(
  2)
1
//â”‚ > 2
//â”‚ = 1

id(
  1)
//â”‚ = 1

id(
  id)(1)
//â”‚ = 1

:p
id(
  2)
  print()
//â”‚ |id|(|â†’|2|â†|)|â†’|print|(||)|â†|
//â”‚ Parsed:
//â”‚ 	Jux(App(Ident(id),Tup(List(IntLit(2)))),Block(List(App(Ident(print),Tup(List())))))
//â”‚ > 2

id(0
  passTo(id))(2)
//â”‚ = 0

:p
id(
  2
)
  print()
//â”‚ |id|(|â†’|2|â†|â†µ|)|â†’|print|(||)|â†|
//â”‚ Parsed:
//â”‚ 	Jux(App(Ident(id),Tup(List(IntLit(2)))),Block(List(App(Ident(print),Tup(List())))))
//â”‚ > 2

:p
id(
  id
)(1)
//â”‚ |id|(|â†’|id|â†|â†µ|)|(|1|)|
//â”‚ Parsed:
//â”‚ 	App(App(Ident(id),Tup(List(Ident(id)))),Tup(List(IntLit(1))))
//â”‚ = 1

:e
:p
id
  1
//â”‚ |id|â†’|1|â†|
//â”‚ Parsed:
//â”‚ 	Jux(Ident(id),Block(List(IntLit(1))))
//â”‚ â•”â•â•[ERROR] Illegal juxtaposition right-hand side (integer literal).
//â”‚ â•‘  l.137: 	  1
//â”‚ â•™â”€â”€       	  ^
//â”‚ = [function id]

:e
:re
:p
id(0
  id)(1)
//â”‚ |id|(|0|â†’|id|â†|)|(|1|)|
//â”‚ Parsed:
//â”‚ 	App(App(Ident(id),Tup(List(Jux(IntLit(0),Block(List(Ident(id))))))),Tup(List(IntLit(1))))
//â”‚ â•”â•â•[ERROR] Illegal juxtaposition right-hand side (identifier).
//â”‚ â•‘  l.150: 	  id)(1)
//â”‚ â•™â”€â”€       	  ^^
//â”‚ â•â•â•[RUNTIME ERROR] TypeError: tmp25 is not a function


fun test2() =
  fun funny = (case
    0 then 1)
  funny

test2()(0)
//â”‚ = 1


:pt
module P with
  print(
    2)
  val x = 1
P.x
//â”‚ Parsed tree:
//â”‚ TypeDef:
//â”‚   k = Mod
//â”‚   head = Ident of "P"
//â”‚   rhs = N
//â”‚   body = S of Block of Ls of 
//â”‚     App:
//â”‚       lhs = Ident of "print"
//â”‚       rhs = Tup of Ls of 
//â”‚         IntLit of 2
//â”‚     TermDef:
//â”‚       k = ImmutVal
//â”‚       head = Ident of "x"
//â”‚       rhs = S of IntLit of 1
//â”‚ Sel:
//â”‚   prefix = Ident of "P"
//â”‚   name = Ident of "x"
//â”‚ > 2
//â”‚ = 1


module P with
  (
    )
  module TraceLogger

module P with
  (
  )
  module TraceLogger


module P with ...
fun checkArgs(expected) =
  ("Function" +
    expected)
module TraceLogger

P.TraceLogger
//â”‚ = TraceLogger


